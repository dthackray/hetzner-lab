# OpenTelemetry Operator Configuration for hetzner-lab cluster
# Enables auto-instrumentation of applications for distributed tracing

manager:
  # Required: Collector image repository
  collectorImage:
    repository: ghcr.io/open-telemetry/opentelemetry-collector-releases/opentelemetry-collector-k8s

  # Resource limits for the operator
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

  # Enable ServiceMonitor for Prometheus
  serviceMonitor:
    enabled: true
    additionalLabels:
      release: kube-prometheus-stack

# Admission webhooks configuration
# Use cert-manager with self-signed CA for internal webhook certificates
admissionWebhooks:
  certManager:
    enabled: true
    # Use self-signed issuer for internal webhooks (created below)
    issuerRef:
      kind: Issuer
      name: opentelemetry-operator-selfsigned
  autoGenerateCert:
    enabled: false
